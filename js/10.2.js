document.addEventListener('DOMContentLoaded', function() {
    var map = L.map('map').setView([39.92, -105.07], 10);
    L.tileLayer("https://api.mapbox.com/styles/v1/tdocal/cje7wpe470ab62rpghe82z706/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoidGRvY2FsIiwiYSI6ImNqY2p1a3lnZTNrNHkzNG1tMW11OG96YXoifQ.RbkA1hULBX2RVePl9Nqa3Q",
    {
      attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
        maxZoom: 18
    }).addTo(map);

    function showLatLng(e) {
      document.getElementById("whereIsThis").innerText = (e.latlng.lat).toFixed(5) + " | " + (e.latlng.lng).toFixed(5)
    }
    map.on('mousemove', showLatLng);

    document.getElementById("goToFRCCBoulder").onclick = function(){
      map.setView([40.1386, -105.12793], 17);
    };

    document.getElementById("goToRMNP").onclick = function(){
      map.setView([40.35, -105.72], 12);
    };

    document.getElementById("goToLakes").onclick = function(){
      map.setView([40.23, -105.83], 13);
    };

    function onMapClick(e) {
        var popup = L.popup()
        .setLatLng(e.latlng)
        .setContent("<center><img src='http://dev.brightrain.com/recreationer/images/icon-map-marker.png'></center><h4>" + (e.latlng.lat).toFixed(5) + " | " + (e.latlng.lng).toFixed(5) + "</h4>")
        .openOn(map);
    }
    map.on('click', onMapClick);

    var Lakes = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": {
            "stroke": "#808080",
            "stroke-width": 2,
            "stroke-opacity": 1,
            "fill": "#ff8000",
            "fill-opacity": 0.5,
            "Name": "Shadow Mountain Lake"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [
              [
                [
                  -105.83438873291016,
                  40.24966011307024
                ],
                [
                  -105.83696365356445,
                  40.2487429794938
                ],
                [
                  -105.83696365356445,
                  40.247825833489735
                ],
                [
                  -105.84039688110352,
                  40.24520534785712
                ],
                [
                  -105.84039688110352,
                  40.24428815391857
                ],
                [
                  -105.8419418334961,
                  40.243239917057394
                ],
                [
                  -105.8426284790039,
                  40.242322696489
                ],
                [
                  -105.84280014038085,
                  40.241274429193886
                ],
                [
                  -105.84468841552734,
                  40.23930888426723
                ],
                [
                  -105.84554672241211,
                  40.23806400963301
                ],
                [
                  -105.84623336791992,
                  40.23727776122906
                ],
                [
                  -105.84627628326416,
                  40.236688068934626
                ],
                [
                  -105.84644794464111,
                  40.236458742766544
                ],
                [
                  -105.84640502929686,
                  40.23600008810035
                ],
                [
                  -105.84679126739502,
                  40.23567247572246
                ],
                [
                  -105.84683418273926,
                  40.23537762322715
                ],
                [
                  -105.84679126739502,
                  40.234984484569594
                ],
                [
                  -105.84700584411621,
                  40.23475515263198
                ],
                [
                  -105.8474349975586,
                  40.23259284189421
                ],
                [
                  -105.84747791290283,
                  40.23197034570102
                ],
                [
                  -105.84747791290283,
                  40.2316754770861
                ],
                [
                  -105.84859371185303,
                  40.23007005877096
                ],
                [
                  -105.84940910339355,
                  40.229611360833985
                ],
                [
                  -105.84988117218018,
                  40.22833354305741
                ],
                [
                  -105.85039615631104,
                  40.22721952840327
                ],
                [
                  -105.85108280181885,
                  40.22636762248155
                ],
                [
                  -105.85232734680174,
                  40.22531910817726
                ],
                [
                  -105.85267066955565,
                  40.22489314460519
                ],
                [
                  -105.85305690765381,
                  40.22420504394596
                ],
                [
                  -105.85322856903076,
                  40.22341863463391
                ],
                [
                  -105.85391521453857,
                  40.22305819398159
                ],
                [
                  -105.85421562194824,
                  40.22276328656691
                ],
                [
                  -105.85464477539061,
                  40.22161641219484
                ],
                [
                  -105.85503101348877,
                  40.221321498503904
                ],
                [
                  -105.85541725158691,
                  40.22043674972848
                ],
                [
                  -105.85546016693115,
                  40.219551989399186
                ],
                [
                  -105.85503101348877,
                  40.21965029667302
                ],
                [
                  -105.8547306060791,
                  40.21951922027623
                ],
                [
                  -105.8539581298828,
                  40.21906045089054
                ],
                [
                  -105.8536148071289,
                  40.21807736317527
                ],
                [
                  -105.85391521453857,
                  40.21768412409529
                ],
                [
                  -105.85314273834229,
                  40.21735642311862
                ],
                [
                  -105.85279941558838,
                  40.21656993430836
                ],
                [
                  -105.85344314575195,
                  40.21656993430836
                ],
                [
                  -105.85309982299805,
                  40.216209457219485
                ],
                [
                  -105.85340023040771,
                  40.21584897821291
                ],
                [
                  -105.85412979125977,
                  40.21607837416624
                ],
                [
                  -105.85434436798096,
                  40.21650439316211
                ],
                [
                  -105.85481643676758,
                  40.216471622565216
                ],
                [
                  -105.8547306060791,
                  40.216209457219485
                ],
                [
                  -105.85455894470215,
                  40.2159145199931
                ],
                [
                  -105.85378646850586,
                  40.215783436369314
                ],
                [
                  -105.85365772247313,
                  40.21545572620049
                ],
                [
                  -105.85275650024414,
                  40.21525909933844
                ],
                [
                  -105.85176944732666,
                  40.21509524318426
                ],
                [
                  -105.85078239440918,
                  40.21476752968722
                ],
                [
                  -105.85069656372069,
                  40.21440704301002
                ],
                [
                  -105.85116863250732,
                  40.21434149977176
                ],
                [
                  -105.85279941558838,
                  40.21480030110824
                ],
                [
                  -105.85408687591553,
                  40.21506247190588
                ],
                [
                  -105.85528850555419,
                  40.21525909933844
                ],
                [
                  -105.85580348968506,
                  40.21529187052173
                ],
                [
                  -105.85537433624268,
                  40.21486584390275
                ],
                [
                  -105.85593223571776,
                  40.21447258618487
                ],
                [
                  -105.85593223571776,
                  40.21417764139879
                ],
                [
                  -105.85563182830809,
                  40.2135877479755
                ],
                [
                  -105.85515975952148,
                  40.21276844303579
                ],
                [
                  -105.8543872833252,
                  40.2115886265213
                ],
                [
                  -105.85322856903076,
                  40.211195349785534
                ],
                [
                  -105.853271484375,
                  40.21086761742911
                ],
                [
                  -105.85262775421143,
                  40.21024492158576
                ],
                [
                  -105.85224151611328,
                  40.20939280221327
                ],
                [
                  -105.85146903991699,
                  40.20906506114047
                ],
                [
                  -105.85138320922852,
                  40.20837679972911
                ],
                [
                  -105.8509111404419,
                  40.20831125065876
                ],
                [
                  -105.85065364837646,
                  40.2077868558139
                ],
                [
                  -105.8501386642456,
                  40.20762298159289
                ],
                [
                  -105.8492374420166,
                  40.20713135655267
                ],
                [
                  -105.84885120391846,
                  40.2070985814232
                ],
                [
                  -105.84790706634521,
                  40.206934705538174
                ],
                [
                  -105.8468770980835,
                  40.206934705538174
                ],
                [
                  -105.84576129913329,
                  40.20726245691203
                ],
                [
                  -105.84498882293701,
                  40.20732800699665
                ],
                [
                  -105.84408760070801,
                  40.2070658062779
                ],
                [
                  -105.84322929382324,
                  40.20713135655267
                ],
                [
                  -105.84241390228271,
                  40.20670527863353
                ],
                [
                  -105.84189891815186,
                  40.20690193031362
                ],
                [
                  -105.84142684936523,
                  40.207491881930814
                ],
                [
                  -105.84082603454588,
                  40.20818015232788
                ],
                [
                  -105.84108352661133,
                  40.20890119000977
                ],
                [
                  -105.84069728851318,
                  40.21027769519383
                ],
                [
                  -105.84082603454588,
                  40.211162576621184
                ],
                [
                  -105.84116935729979,
                  40.21162139947959
                ],
                [
                  -105.84116935729979,
                  40.21296507712467
                ],
                [
                  -105.84134101867676,
                  40.21345665985077
                ],
                [
                  -105.84228515625,
                  40.213718835846656
                ],
                [
                  -105.84232807159424,
                  40.21427595647012
                ],
                [
                  -105.84202766418457,
                  40.21506247190588
                ],
                [
                  -105.84207057952881,
                  40.21581620729905
                ],
                [
                  -105.84108352661133,
                  40.21670101641067
                ],
                [
                  -105.8402681350708,
                  40.21640608132386
                ],
                [
                  -105.83979606628418,
                  40.216340540019125
                ],
                [
                  -105.83919525146483,
                  40.21693040947959
                ],
                [
                  -105.83928108215332,
                  40.21735642311862
                ],
                [
                  -105.83863735198975,
                  40.217618584026745
                ],
                [
                  -105.83803653717041,
                  40.21758581396871
                ],
                [
                  -105.83765029907227,
                  40.217618584026745
                ],
                [
                  -105.83782196044922,
                  40.218011823487096
                ],
                [
                  -105.83674907684326,
                  40.21869998705114
                ],
                [
                  -105.83631992340088,
                  40.21965029667302
                ],
                [
                  -105.83580493927002,
                  40.22063336156594
                ],
                [
                  -105.8356761932373,
                  40.22214070003113
                ],
                [
                  -105.83571910858154,
                  40.22397567550632
                ],
                [
                  -105.83674907684326,
                  40.226433154086685
                ],
                [
                  -105.83700656890869,
                  40.22731782455093
                ],
                [
                  -105.83666324615479,
                  40.22843183758844
                ],
                [
                  -105.8364486694336,
                  40.22889054351367
                ],
                [
                  -105.83687782287596,
                  40.22934924633237
                ],
                [
                  -105.83687782287596,
                  40.229676889300904
                ],
                [
                  -105.83571910858154,
                  40.23160995055288
                ],
                [
                  -105.83584785461426,
                  40.23278941845067
                ],
                [
                  -105.83563327789307,
                  40.23373953042962
                ],
                [
                  -105.8351182937622,
                  40.23491896123812
                ],
                [
                  -105.83417415618896,
                  40.23577075960226
                ],
                [
                  -105.83400249481201,
                  40.236589786386254
                ],
                [
                  -105.83288669586182,
                  40.236786351340335
                ],
                [
                  -105.83211421966553,
                  40.236786351340335
                ],
                [
                  -105.83164215087889,
                  40.237179479536636
                ],
                [
                  -105.83121299743652,
                  40.23809676978504
                ],
                [
                  -105.83048343658447,
                  40.23842437043357
                ],
                [
                  -105.82949638366699,
                  40.23865368994443
                ],
                [
                  -105.82889556884766,
                  40.23901404760658
                ],
                [
                  -105.82790851593018,
                  40.23940716286879
                ],
                [
                  -105.8274793624878,
                  40.23986579445657
                ],
                [
                  -105.82799434661864,
                  40.24038994103842
                ],
                [
                  -105.82790851593018,
                  40.24107787726904
                ],
                [
                  -105.82842350006104,
                  40.24163477290737
                ],
                [
                  -105.82945346832275,
                  40.24258476077662
                ],
                [
                  -105.82992553710938,
                  40.2430433708389
                ],
                [
                  -105.82988262176514,
                  40.24379679491091
                ],
                [
                  -105.8301830291748,
                  40.24432091105895
                ],
                [
                  -105.82971096038818,
                  40.24487778001998
                ],
                [
                  -105.82971096038818,
                  40.24546740098559
                ],
                [
                  -105.82962512969969,
                  40.24618804185786
                ],
                [
                  -105.83035469055176,
                  40.24713796583112
                ],
                [
                  -105.83177089691162,
                  40.247596545046925
                ],
                [
                  -105.83254337310791,
                  40.2481861423306
                ],
                [
                  -105.83301544189453,
                  40.24861195939696
                ],
                [
                  -105.83318710327148,
                  40.249103283452385
                ],
                [
                  -105.83438873291016,
                  40.24966011307024
                ]
              ]
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "stroke": "#555555",
            "stroke-width": 2,
            "stroke-opacity": 1,
            "fill": "#d52bc8",
            "fill-opacity": 0.5,
            "Name": "Grand Lake"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [
              [
                [
                  -105.8162784576416,
                  40.24872660199556
                ],
                [
                  -105.81662178039551,
                  40.249070528626305
                ],
                [
                  -105.81649303436278,
                  40.24916879305697
                ],
                [
                  -105.81754446029663,
                  40.249938526161245
                ],
                [
                  -105.8187460899353,
                  40.250560857164594
                ],
                [
                  -105.81902503967285,
                  40.250560857164594
                ],
                [
                  -105.81951856613159,
                  40.25064274239691
                ],
                [
                  -105.82063436508179,
                  40.25065911943148
                ],
                [
                  -105.8208703994751,
                  40.250822889559274
                ],
                [
                  -105.821213722229,
                  40.250822889559274
                ],
                [
                  -105.82157850265503,
                  40.25072462753016
                ],
                [
                  -105.8218789100647,
                  40.2504953489074
                ],
                [
                  -105.8238959312439,
                  40.250413463496756
                ],
                [
                  -105.82464694976807,
                  40.25015142951689
                ],
                [
                  -105.82507610321045,
                  40.24980750837873
                ],
                [
                  -105.82550525665283,
                  40.2492179252188
                ],
                [
                  -105.82565546035767,
                  40.2488903767996
                ],
                [
                  -105.82578420639038,
                  40.24861195939696
                ],
                [
                  -105.82571983337401,
                  40.248366296031776
                ],
                [
                  -105.82518339157104,
                  40.247596545046925
                ],
                [
                  -105.82477569580078,
                  40.24723623306749
                ],
                [
                  -105.82456111907959,
                  40.24659749348102
                ],
                [
                  -105.82473278045653,
                  40.24622079807888
                ],
                [
                  -105.82505464553832,
                  40.246319066646755
                ],
                [
                  -105.82548379898071,
                  40.24594236969513
                ],
                [
                  -105.82595586776733,
                  40.24476313090249
                ],
                [
                  -105.82606315612793,
                  40.24448469652302
                ],
                [
                  -105.82597732543945,
                  40.2440916107435
                ],
                [
                  -105.82619190216064,
                  40.24361662904783
                ],
                [
                  -105.82621335983276,
                  40.24299423419513
                ],
                [
                  -105.82595586776733,
                  40.24260113976092
                ],
                [
                  -105.82550525665283,
                  40.242273559322115
                ],
                [
                  -105.82556962966919,
                  40.241814944044876
                ],
                [
                  -105.82535505294798,
                  40.24140546349343
                ],
                [
                  -105.82494735717773,
                  40.24107787726904
                ],
                [
                  -105.82417488098145,
                  40.24104511855943
                ],
                [
                  -105.8223295211792,
                  40.2406847717075
                ],
                [
                  -105.82134246826172,
                  40.240832186560546
                ],
                [
                  -105.82072019577026,
                  40.24058649496045
                ],
                [
                  -105.82052707672119,
                  40.240832186560546
                ],
                [
                  -105.81981897354126,
                  40.240963221716044
                ],
                [
                  -105.81803798675537,
                  40.241028739198676
                ],
                [
                  -105.81745862960814,
                  40.24091408356245
                ],
                [
                  -105.81685781478882,
                  40.24066839225955
                ],
                [
                  -105.81552743911742,
                  40.23988217409866
                ],
                [
                  -105.81496953964233,
                  40.23957096022108
                ],
                [
                  -105.8149266242981,
                  40.239358023585844
                ],
                [
                  -105.81460475921631,
                  40.23919422571843
                ],
                [
                  -105.81419706344603,
                  40.23901404760658
                ],
                [
                  -105.81233024597168,
                  40.238031249465116
                ],
                [
                  -105.81149339675903,
                  40.23817867009576
                ],
                [
                  -105.8107852935791,
                  40.237982109183584
                ],
                [
                  -105.80994844436646,
                  40.23790020863508
                ],
                [
                  -105.80934762954712,
                  40.2375562252496
                ],
                [
                  -105.80859661102294,
                  40.23706481738183
                ],
                [
                  -105.8078670501709,
                  40.2365406450586
                ],
                [
                  -105.80730915069579,
                  40.23647512323288
                ],
                [
                  -105.8059787750244,
                  40.23573799832485
                ],
                [
                  -105.8053135871887,
                  40.235492288239016
                ],
                [
                  -105.8048415184021,
                  40.235262958021146
                ],
                [
                  -105.80396175384521,
                  40.23578714023503
                ],
                [
                  -105.80398321151732,
                  40.235950946344715
                ],
                [
                  -105.8037257194519,
                  40.23606561038575
                ],
                [
                  -105.80273866653442,
                  40.237916588752704
                ],
                [
                  -105.8021593093872,
                  40.238751969497045
                ],
                [
                  -105.80200910568236,
                  40.23930888426723
                ],
                [
                  -105.80243825912476,
                  40.23968561813189
                ],
                [
                  -105.80254554748535,
                  40.23993131300121
                ],
                [
                  -105.80245971679688,
                  40.24078304831187
                ],
                [
                  -105.80207347869873,
                  40.24104511855943
                ],
                [
                  -105.8022665977478,
                  40.24114339464074
                ],
                [
                  -105.802481174469,
                  40.241389084219854
                ],
                [
                  -105.80239534378052,
                  40.24163477290737
                ],
                [
                  -105.8028244972229,
                  40.241814944044876
                ],
                [
                  -105.80321073532104,
                  40.24214252670279
                ],
                [
                  -105.80374717712402,
                  40.24210976850833
                ],
                [
                  -105.80432653427123,
                  40.24253562379997
                ],
                [
                  -105.80482006072998,
                  40.24265027669002
                ],
                [
                  -105.80507755279541,
                  40.24317440171464
                ],
                [
                  -105.80509901046753,
                  40.243436462705255
                ],
                [
                  -105.80630064010619,
                  40.24387868832652
                ],
                [
                  -105.80670833587646,
                  40.244632103101864
                ],
                [
                  -105.80790996551514,
                  40.24520534785712
                ],
                [
                  -105.80814599990845,
                  40.24523810455368
                ],
                [
                  -105.8096694946289,
                  40.24638457894608
                ],
                [
                  -105.81042051315308,
                  40.24697418678681
                ],
                [
                  -105.81121444702147,
                  40.247727567109344
                ],
                [
                  -105.8116865158081,
                  40.248202519959605
                ],
                [
                  -105.81215858459473,
                  40.24864471444494
                ],
                [
                  -105.81286668777464,
                  40.249119660859485
                ],
                [
                  -105.81353187561034,
                  40.249348944142625
                ],
                [
                  -105.81385374069212,
                  40.249348944142625
                ],
                [
                  -105.81421852111815,
                  40.248972264053
                ],
                [
                  -105.81456184387207,
                  40.2489067542582
                ],
                [
                  -105.81488370895386,
                  40.248497316604144
                ],
                [
                  -105.8155059814453,
                  40.248579204333105
                ],
                [
                  -105.81574201583862,
                  40.248595581867015
                ],
                [
                  -105.81595659255981,
                  40.248579204333105
                ],
                [
                  -105.8162784576416,
                  40.24872660199556
                ]
              ]
            ]
          }
        }
      ]
    };

    L.geoJSON(Lakes).addTo(map);
});